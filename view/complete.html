<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <!--<base href="/">-->
    <base href=".">

    <link rel="shortcut icon" href="images/favicon.ico">
    <title>Carbon Reduction Helper - Complete</title>

    <!-- Common file includes -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-173546127-1"></script>
    <script src="lib/common.js"></script>
    <link rel="stylesheet" href="lib/common.css">
    <link rel="stylesheet" href="lib/2.67123b20.chunk.css">
    <link rel="stylesheet" href="lib/main.a391ff7c.chunk.css">

    <script src="../model.js"></script>
	<script src="view.js"></script>
    <script src="../controller.js"></script>

    <!-- Locals -->

</head>

<body data-gr-c-s-loaded="true">

<noscript>You need to enable JavaScript to run this app.</noscript>

<div id="root">
    <div>
        <header>
            <nav class="navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3 navbar-light">
                <div class="container">
                    <a class="navbar-brand " href="../index.html">Carbon Reduction Helper (proof-of-concept)</a>
<br>
                    <button aria-label="Toggle navigation" type="button" class="mr-2 navbar-toggler">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="d-sm-inline-flex flex-sm-row-reverse collapse navbar-collapse" style="width:380px">
                        <ul class="navbar-nav flex-grow">
                            <li class="nav-item menu_dashboard">
                                <a class="text-dark nav-link" href="#" onclick="gotoMenu('dashboard.html');return false">Dashboard</a>
                            </li>
                            <li class="nav-item menu_select">
                                <a class="text-dark nav-link" href="#" onclick="gotoMenu('plan.html');return false">Select</a>
                            </li>
                            <li class="nav-item menu_familiarise">
                                <a class="text-dark nav-link" href="#" onclick="gotoMenu('familiarise.html');return false">Familiarise</a>
                            </li>
                            <li class="nav-item menu_complete">
                                <a disabled="" class="text-dark nav-link"  href="#" onclick="gotoMenu('complete.html');return false">[Complete]</a>
                            </li>
                            <li class="nav-item menu_help">
                                <a class="text-dark nav-link" href="#" onclick="gotoMenu('help.html');return false">Help</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <div class="container-xl">
            <div class="row">
                <div class="col-md-8">
                    <div align="center">
                        <div class="tips unbranded"></div> <!-- Tips -->
                        <select id="stepSelector" onchange="handle_stepChange()">
                            <option value="">Select a planned step ...</option>
                            <option value="10">Replace an old gas boiler with an air source heat pump [23%]</option>
                            <option value="20">Replace an old gas boiler with a ground source heat pump [23%]</option>
                            <option value="40">Replace a petrol car with a battery electric car [17%]</option>
                            <option value="50">Increase loft insulation from ??cm to ??cm in a gas heated house with an
                                old boiler [17%]
                            </option>
                        </select>
                        <br>
                        .
                    </div>
                    <div id="step10_exec_info" style="display:none">
                        <table border="1">
                            <tr>
                                <th>Task</th>
                                <th>Planned completion data</th>
                                <th>Status</th>
                                <th>Notes</th>
                            </tr>
                            <tbody>
                            <tr>
                                <td width="150">Get quotes</td>
                                <td>1 Aug 2020</td>
                                <td>
                                    <select>
                                        <option></option>
                                        <option>In progress</option>
                                        <option selected>Complete</option>
                                    </select>
                                </td>
                                <td>
                                    <textarea cols="40" rows="8" value="">ACME supply company = £1,234
   Didn't have widget x

B&Q = £945
   Had detailed quote</textarea>
                                </td>
                            </tr>

                            <tr>
                                <td>Engage supplier</td><td>15 Aug 2020</td>
                                <td>
                                    <select>
                                        <option></option>
                                        <option>In progress</option>
                                        <option selected>Complete</option>
                                    </select>
                                </td>
                                <td>
                                    <textarea cols="40" rows="8" value=""></textarea>
                                </td>
                                </td>
                            </tr>
                            <tr><td>[+]</td>
                            </tr>

                            </tbody>
                        </table>
                        <br>
                        <p>
                            Once action is complete get a good feeling by ticking it off.
                        </p>
                    </div> <!-- exec_info -->
                    <div id="step20_exec_info" style="display:none">
                        <table border="1">
                            <tr>
                                <th>Task</th>
                                <th>Planned completion data</th>
                                <th>Status</th>
                                <th>Notes</th>
                            </tr>
                            <tbody>
                            <tr>
                                <td width="150">Get quotes</td>
                                <td>1 Aug 2020</td>
                                <td>
                                    <select>
                                        <option></option>
                                        <option>In progress</option>
                                        <option selected>Complete</option>
                                    </select>
                                </td>
                                <td>
                                    <textarea cols="40" rows="8" value="">ACME supply company = £1,234
   Didn't have widget x

B&Q = £945
   Had detailed quote</textarea>
                                </td>
                            </tr>

                            <tr>
                                <td>Engage supplier</td><td>15 Aug 2020</td>
                                <td>
                                    <select>
                                        <option></option>
                                        <option>In progress</option>
                                        <option selected>Complete</option>
                                    </select>
                                </td>
                                <td>
                                    <textarea cols="40" rows="8" value=""></textarea>
                                </td>
                                </td>
                            </tr>
                            <tr><td>[+]</td>
                            </tr>

                            </tbody>
                        </table>
                        <br>
                        <p>
                            Once action is complete, get a good feeling by ticking it off.
                        </p>
                    </div> <!-- exec_info -->
                    <div id="step30_exec_info" style="display:none">  <!-- beef (herd) portions -->
                    </div> <!-- exec_info -->
                    <div id="step40_exec_info" style="display:none">  <!-- Electric -->
                        <p>
                            I have off-road parking
                                <input
                                        type="checkbox"
                                        checked
                                        onchange="document.getElementById('noOffRoadParking').style.display = (this.checked ? 'none':'')"
                                ></p>
                            <div id="noOffRoadParking" style="display:none">
                                <p>Register interest to have on-street charge points installed via</p>
                            <ul>
                                <li>Your local transport authority - select
                                    <select id="localAuthority" onchange="window.open(this.value)">
                                        <option value="">[Your local authority]</option>
                                        <option value="http://www.hants.gov.uk">Hampshire Highways Authority</option>
                                        <option value="mailto:electric.vehicles@brighton-hove.gov.uk">Brighton & Hove (creates email)</option>
                                    </select>
                                    to register interest
                                </li>


                                <li>Energy Saving Trust <a
                                        href="https://energysavingtrust.org.uk/transport/local-authorities/street-residential-chargepoint-scheme"
                                        target="_blank"
                                    >
                                    registration page</a>
                                </li>

                                <li><a href="https://www.connectedkerb.com" target="_blank">Connected Kerb</a></li>

                                <li>Other</li>
                            </ul>
                            </div>

                    </div> <!-- exec_info -->
                    <div id="step50_exec_info" style="display:none">  <!-- Insulation -->
                        Insulation
                        <br>
                    </div> <!-- exec_info -->
                </div><!-- col-md-8 -->
                <div class="col-md-4">
                    <div class="sticky-top pt-2">
                        <div class="card">
                            <div class="card-header">
                                <h4>Menu</h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <table>
                                        <tr>
                                            <td>
<!--                                           Follow changes to this step<input type="checkbox"><br> -->
                                                Change this step status to:
                                                <select id="stepStateSelector"
                                                        onFocus="this.oldIndex = this.selectedIndex"
                                                        onChange="model_setStepStateId(step, this.value); this.selectedIndex = this.oldIndex"
                                                >
                                                    <option value=""></option>
                                                    <option value="maybe">Maybe</option>
                                                    <option value="aspiring">Plan to</option>
                                                    <option value="done">Completed</option>
                                                    <option value="na">Not applicable</option>
                                                    <option value="never">Never</option>
                                                </select>
                                                <br>
                                                <br>
                                                <p>
                                                    [Print ...]<br>
                                                    [Export ...]
                                                </p>

                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div> <!-- col-md-4 -->

            </div> <!-- row -->
        </div> <!-- container-xl -->
    </div>
</div>

<script src="lib/common.js"></script>
<script src="../model.js"></script>
<script src="view.js"></script>
<script src="../controller.js"></script>

<script>
    //Select correct step
    let selectorId = document.getElementById('stepSelector');

    if(step !== "") {
        // Set step
        selectorId.value = step

        // Display step info
        document.getElementById('step' + step + '_exec_info').style.display = "";

        // Set step state
        document.getElementById('stepStateSelector').value = model_getStepState(step)
    }

    handle_stepChange = function(){
        let url = 'complete.html'

        if(selectorId.value !== ""){
            url = url + '?step=' + selectorId.value
        }

        window.location.href = url;
    }
</script>

</body>
</html>